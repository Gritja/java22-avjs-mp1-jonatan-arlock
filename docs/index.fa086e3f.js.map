{"mappings":"AAEA,IAAIA,EACAC,EAAiBC,SAASC,cAAc,qBAE5CC,eAAeC,IACf,MAAMC,QAAYC,MAAM,uFACxBP,QAAaM,EAAIE,OACdC,MAAMC,QAAQV,IACjBW,EAAeV,EAAgBD,EAE/B,CAEA,SAASW,EAAeC,EAAUC,GAEhCZ,EAAea,UAAY,GACvBD,EAAOE,SAAQ,CAACC,EAAGC,KACnB,IAAIC,EAAKN,EAASO,UAAUF,GAC5BG,OAAOC,KAAKL,GAAGD,SAAQ,CAACO,EAAGC,KACdL,EAAGM,WAAWD,GACpBT,UAAYE,EAAEM,EAAE,IAEvBV,EAASa,YAAYP,EAAA,IAEvBQ,QAAQC,IAAI,sBACd,CAEFvB,eAAewB,EAAaC,EAAYC,GACtCJ,QAAQC,IAAI3B,GACV,MAAM+B,EAYV,SAAyBC,EAAMC,GAC3B,IAAIC,EAAa,CAAC,EAClBA,EAAa,C,KAACF,E,MAAMC,GACpBjC,EAAKmC,KAAKD,GACVlC,EAAKoC,MAAK,SAASC,EAAEC,GAAI,OAAQA,EAAEL,MAAQI,EAAEJ,KAAM,IAC/CjC,EAAKuC,OAAS,GAChBvC,EAAKwC,MAEP,OAAOxC,CACX,CArByByC,CAAgBZ,EAAYC,GACjDnB,EAAeV,EAAgB8B,GAE/BxB,MAAM,sFAAuF,CAC3FmC,OAAQ,MACRC,KAAMC,KAAKC,UAAUd,GACrBe,QAAS,CACP,eAAgB,oCAGxB,CC9BA,IAAIC,EAAa,EACbC,EAAa,GAOjB,SAASC,EAAQC,GAEb,IAAIC,EAAYD,EAGhB,GAFAF,EAAa9C,SAASkD,eAAe,mBAAmBC,MAEtC,IAAdL,EAAkB,CAEtB9C,SAASkD,eAAe,iBAAiBtC,UAAYkC,EAAa,KAAOG,EAEzE,IAAIG,EAAiBC,KAAKC,SAEzBF,EADGA,EAAiB,IACH,OACRA,GAAkB,IACV,QACO,WACzBpD,SAASkD,eAAe,gBAAgBtC,UAAY,aAAewC,EAEnEpD,SAASkD,eAAe,UAAUtC,UAQtC,SAAiB2C,EAASC,GAC1B,GAAID,GAAWC,EACX,MAAO,uBACJ,GAAe,QAAXD,EACP,MAAe,YAAXC,GACHX,IACU,wBAA0BC,EAAa,WAEjDpB,EAAaoB,EAAYD,GACtBA,EAAc,EACd1C,IACO,qBAAuB2C,EAAa,WAE5C,GAAe,SAAXS,EACP,MAAe,QAAXC,GACHX,IACU,qBAAuBC,EAAa,WAE3CpB,EAAaoB,EAAYD,GACzBA,EAAc,EACd1C,IACI,yBAA2B2C,EAAa,WAE7C,GAAe,YAAXS,EACP,MAAe,SAAXC,GACHX,IACU,wBAA0BC,EAAa,WAE9CpB,EAAaoB,EAAYD,GACzBA,EAAc,EACd1C,IACI,qBAAuB2C,EAAa,UAGhD,CA1CkDW,CAAQR,EAAWG,GACjEpD,SAASkD,eAAe,UAAUtC,UAAYkC,EAAa,qBAAuBD,CAGlF,MACIa,OAAOC,MAAM,uBAErB,CA9BA3D,SAASkD,eAAe,WAAWU,QAAQ,IAAMb,EAAQ,QACzD/C,SAASkD,eAAe,YAAYU,QAAQ,IAAMb,EAAQ,SAC1D/C,SAASkD,eAAe,eAAeU,QAAQ,IAAMb,EAAQ,YAE7D5C","sources":["src/js/handlescore.js","src/js/main.js"],"sourcesContent":["import { playerName, playerScore } from \"./main.js\"\r\n\r\nlet data;\r\nlet highscoreTable = document.querySelector(\"#highscores tbody\");\r\n\r\nasync function getHighscore(){\r\nconst res = await fetch('https://ropasci-54fd5-default-rtdb.europe-west1.firebasedatabase.app/highscore.json')\r\ndata = await res.json();\r\nif(Array.isArray(data)) {\r\nfillScoreTable(highscoreTable, data);\r\n}\r\n}\r\n\r\nfunction fillScoreTable(nodeList, values) { // nl -> NodeList, data -> array with objects\r\n  //remove all entries in table\r\n  highscoreTable.innerHTML = \"\";\r\n      values.forEach((d, i) => {\r\n      let tr = nodeList.insertRow(i);\r\n      Object.keys(d).forEach((k, j) => { // Keys from object represent th.innerHTML\r\n        let cell = tr.insertCell(j);\r\n        cell.innerHTML = d[k]; // Assign object values to cells   \r\n      });\r\n      nodeList.appendChild(tr);\r\n    })\r\n    console.log('highscores updated!')\r\n  }\r\n\r\nasync function putHighscore(playerName, playerScore) {\r\n  console.log(data);\r\n    const newHighscore = updateHighscore(playerName, playerScore)\r\n    fillScoreTable(highscoreTable, newHighscore)\r\n    //console.log(newHighscore);\r\n    fetch('https://ropasci-54fd5-default-rtdb.europe-west1.firebasedatabase.app/highscore.json', {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(newHighscore),\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=UTF-8\",\r\n      }\r\n    });\r\n}\r\n\r\nfunction updateHighscore(Name, Score) {\r\n    let gameResult = {};\r\n    gameResult = {Name, Score}\r\n    data.push(gameResult);\r\n    data.sort(function(a,b) {return (b.Score - a.Score)});\r\n    if (data.length > 5) {\r\n      data.pop();\r\n    } \r\n    return data;\r\n}\r\n\r\nexport { getHighscore, putHighscore }","import { getHighscore, putHighscore } from \"./handlescore\";\r\n\r\n//const img = document.createElement('img');\r\n//document.body.append(img);\r\n\r\n//URL (relativePath, module Url)\r\n//const imgUrl = new URL('../media/rpsimg.jpg', import.meta.url);\r\n//img.src = imgUrl.href;\r\n\r\nlet playerScore =0;\r\nlet playerName = \"\";\r\ndocument.getElementById(\"rockBtn\").onclick=() => RoPaSci(\"rock\");\r\ndocument.getElementById(\"paperBtn\").onclick=() => RoPaSci(\"paper\");\r\ndocument.getElementById(\"scissorsBtn\").onclick=() => RoPaSci(\"scissors\");\r\n\r\ngetHighscore();\r\n\r\nfunction RoPaSci(clickedChoice){\r\n\r\n    let userChoice= clickedChoice;\r\n    playerName = document.getElementById(\"playernameinput\").value;\r\n\r\n    if (playerName != \"\") {\r\n        \r\n    document.getElementById('theplayername').innerHTML = playerName + \": \" + userChoice;\r\n\r\n    let computerChoice = Math.random(); \r\n    if (computerChoice < 0.34) {\r\n\t    computerChoice = \"rock\";\r\n    } else if(computerChoice <= 0.67) {\r\n\t    computerChoice = \"paper\";\r\n    } else {computerChoice = \"scissors\";} \r\n    document.getElementById('computername').innerHTML = \"Computer: \" + computerChoice;\r\n\r\n    document.getElementById('result').innerHTML = compare(userChoice,computerChoice);\r\n    document.getElementById('pscore').innerHTML = playerName + \"'s current score: \" + playerScore;\r\n\r\n    \r\n    } else {\r\n        window.alert(\"Please enter a name!\");\r\n    }\r\n}\r\nfunction compare(choice1, choice2){\r\nif (choice1 == choice2){\r\n    return \"The result is a tie!\";    \r\n} else if (choice1 == \"rock\") {\r\n    if (choice2 == \"scissors\"){\r\n    \tplayerScore++;\r\n        return \"rock beats scissors. \" + playerName + \" wins!\";\r\n    } else {\r\n    \tputHighscore(playerName, playerScore);\r\n        playerScore = 0;\r\n        getHighscore();\r\n        return \"paper beats rock. \" + playerName + \" loses!\";\r\n    }\r\n} else if (choice1 == \"paper\") {\r\n    if (choice2 == \"rock\"){\r\n    \tplayerScore++;\r\n        return \"paper beats rock. \" + playerName + \" wins!\";\r\n    } else {\r\n        putHighscore(playerName, playerScore);\r\n        playerScore = 0;\r\n        getHighscore();\r\n    \treturn \"scissors beats paper. \" + playerName + \" loses!\";\r\n    }\r\n} else if (choice1 == \"scissors\") {\r\n    if (choice2 == \"paper\"){\r\n    \tplayerScore++;\r\n        return \"scissor beats paper. \" + playerName + \" wins!\";\r\n    } else {\r\n        putHighscore(playerName, playerScore);\r\n        playerScore = 0;\r\n        getHighscore();\r\n    \treturn \"rock beats paper. \" + playerName + \" loses!\"; \r\n    }\r\n}\r\n}\r\n"],"names":["$3db1b3667b583b53$var$data","$3db1b3667b583b53$var$highscoreTable","document","querySelector","async","$3db1b3667b583b53$export$324a59f4a7abce50","res","fetch","json","Array","isArray","$3db1b3667b583b53$var$fillScoreTable","nodeList","values","innerHTML","forEach","d","i","tr","insertRow","Object","keys","k","j","insertCell","appendChild","console","log","$3db1b3667b583b53$export$6c51d48ca045824f","playerName","playerScore","newHighscore","Name","Score","gameResult","push","sort","a","b","length","pop","$3db1b3667b583b53$var$updateHighscore","method","body","JSON","stringify","headers","$54b47fc030b7b21e$var$playerScore","$54b47fc030b7b21e$var$playerName","$54b47fc030b7b21e$var$RoPaSci","clickedChoice","userChoice","getElementById","value","computerChoice","Math","random","choice1","choice2","$54b47fc030b7b21e$var$compare","window","alert","onclick"],"version":3,"file":"index.fa086e3f.js.map"}